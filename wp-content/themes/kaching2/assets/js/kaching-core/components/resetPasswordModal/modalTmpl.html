<div class="modal kaching-modal modal-password-reset" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ng-click="$hide()"><span class="ion-icon ion-close-round"></span></button>
                <h4 class="modal-title">
                    Password reset
                </h4>
            </div>
            <div class="modal-body text-center">

                <form
                    ng-show="!view.success"
                    name="form1"
                    ng-submit="formSubmit()"
                    novalidate
                    >

                    <div class="form-group" ng-class="{ 'has-error' : showErrors() && fieldHasError( this, 'form1', 'new_password' ) }">
                        <input
                            id="new-password"
                            type="password"
                            name="new_password"
                            class="form-control"
                            placeholder="New password"
                            ng-model="data.newPassword"
                            ng-disabled="view.sending"
                            ng-minlength="6"
                            required
                            >
                        <span ng-show="showErrors() && fieldHasError( this, 'form1', 'new_password' )" class="help-block">
                            <span ng-show="!form1.new_password.$error.minlength">Please enter new password.</span>
                            <span ng-show="form1.new_password.$error.minlength">This password is too short, it should have 6 characters or more.</span>
                        </span>
                    </div>

                    <div class="form-group" ng-class="{ 'has-error' : showErrors() && fieldHasError( this, 'form1', 'new_password_repeat' ) }">
                        <input
                            id="new-password-repeat"
                            type="password"
                            name="new_password_repeat"
                            class="form-control"
                            placeholder="Repeat new password"
                            ng-model="data.newPasswordRepeat"
                            ng-disabled="view.sending"
                            password-match="new-password"
                            required
                            >
                        <span ng-show="showErrors() && fieldHasError( this, 'form1', 'new_password_repeat' )" class="help-block">
                            <span ng-show="!form1.new_password_repeat.$error.pwmatch">Please repeat the new password.</span>
                            <span ng-show="form1.new_password_repeat.$error.pwmatch">This value must be the same.</span>
                        </span>
                    </div>

                    <div class="row row-buttons">
                        <div class="col-md-5 col-left">
                            <button
                                class="btn btn-default btn-block uppercase"
                                ng-disabled="view.sending"
                                ng-click="$hide()"
                                type="button"
                                >Cancel</button>
                        </div>
                        <div class="col-md-7 col-right">
                            <button
                                class="btn btn-primary btn-block uppercase"
                                type="submit"
                                ng-disabled="view.sending"
                                >Change password</button>
                        </div>
                    </div>

                </form>

                <div ng-show="view.success">
                    <p>Your password has been changed.</p>
                    <br>
                    <button type="button" class="btn btn-primary" ng-click="showLoginDialog()">Sign in</button>
                </div>

            </div>
        </div>
    </div>
</div>
